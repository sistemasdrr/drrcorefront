<section class="content">
  <div class="container-fluid" style="overflow: auto; width: 100%;">
    <div class="block-header" *ngFor="let breadscrum of breadscrums">
      <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [active_item]="breadscrum.active">
      </app-breadcrumb>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card shadow">
          <div class="row">
            <div class="col-md-3">
              <mat-form-field class="w-100" style="padding-top: 1rem;">
                <mat-label>Cupón</mat-label>
                <input matInput [(ngModel)]="nmrCupon">
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field class="w-100" style="padding-top: 1rem;">
                <mat-label>Abonado</mat-label>
                <input matInput [(ngModel)]="abonado">
              </mat-form-field>
            </div>
            <div class="col-md-1 d-flex justify-content-center align-items-center">
              <button  mat-mini-fab [class]="'bg-primary'" matTooltip="Aplicar Filtros" (click)="applyFilter()"  [disabled]="">
                <i class="fa-solid fa-magnifying-glass col-white"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12" style="overflow-x: auto;">
        <table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8" matSort>

          <ng-container matColumnDef="cupon" >
          <th mat-header-cell *matHeaderCellDef class="text-center" style="width: 7rem;"> Nmr. Cupón</th>
          <td mat-cell *matCellDef="let order" class="text-center">
            {{order.cupon}}
          </td>
          </ng-container>
          <ng-container matColumnDef="abonado" >
            <th mat-header-cell *matHeaderCellDef class="text-center"> Abonado</th>
            <td mat-cell *matCellDef="let order" class="text-center">
              {{order.abonado.nombre}}
            </td>
          </ng-container>
          <ng-container matColumnDef="nombreSolicitado" >
            <th mat-header-cell *matHeaderCellDef class="text-center" style="width: 15rem;"> Nombre Solicitado </th>
            <td mat-cell *matCellDef="let order" class="text-center">
              {{order.nombreSolicitado}}
            </td>
          </ng-container>
          <ng-container matColumnDef="calidad" >
            <th mat-header-cell *matHeaderCellDef class="text-center" style="width: 5rem;"> Calidad</th>
            <td mat-cell *matCellDef="let order" class="text-center">
              {{order.calidad}}
            </td>
          </ng-container>
          <ng-container matColumnDef="fechaIngreso" >
            <th mat-header-cell *matHeaderCellDef class="text-center"> Fecha de Ingreso </th>
            <td mat-cell *matCellDef="let order" class="text-center">
              {{order.fechaIngreso}}
            </td>
          </ng-container>
          <ng-container matColumnDef="fechaVencimiento" >
            <th mat-header-cell *matHeaderCellDef class="text-center"> Fecha de Vencimiento </th>
            <td mat-cell *matCellDef="let order" class="text-center">
              {{order.fechaVencimiento}}
            </td>
          </ng-container>
          <ng-container matColumnDef="estado" >
            <th mat-header-cell *matHeaderCellDef class="text-center"> Estado </th>
            <td mat-cell *matCellDef="let order" class="text-center">
              <div *ngIf="order.estado==='PEND. VENCIDO'" >
                <span class="float-end progress-percent label label-danger shadow" style="width: 150px;">
                  {{order.estado}}
                </span>
              </div>
              <div *ngIf="order.estado==='PENDIENTE'" >
                <span class="float-end progress-percent label label-info m-b-5 shadow" style="width: 150px;">
                  {{order.estado}}
                </span>
              </div>
              <div *ngIf="order.estado==='ENVIADO'" >
                <span class="float-end progress-percent label label-success m-b-5 shadow" style="width: 150px;">
                  {{order.estado}}
                </span>
              </div>
              <div *ngIf="order.estado==='ENV. VENCIDO'" >
                <span class="float-end progress-percent label label-warning m-b-5 shadow" style="width: 150px;">
                  {{order.estado}}
                </span>
              </div>
            </td>
          </ng-container>
          <ng-container matColumnDef="acciones" >
            <th mat-header-cell *matHeaderCellDef  class="text-center"> Acciones </th>
            <td mat-cell *matCellDef="let order" class="text-center" style="min-width: 8rem;">
              <button mat-icon-button class="tbl-action-btn "  matTooltip="Ver Detalles">
                <app-feather-icons [icon]="'more-horizontal'" [class]="'tbl-fav-edit'"></app-feather-icons>
              </button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="columnsToDisplayTbl1"></tr>
          <tr mat-row *matRowDef="let order; columns: columnsToDisplayTbl1;">
          </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[10, 25]" ></mat-paginator>


      </div>
    </div>

  </div>
</section>
