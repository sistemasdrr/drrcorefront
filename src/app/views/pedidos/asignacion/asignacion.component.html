<section class="content">
  <div class="container-fluid">
    <div class="block-header" *ngFor="let breadscrum of breadscrums">
      <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [codigoInforme]="''" [active_item]="breadscrum.active">
      </app-breadcrumb>
    </div>
    <div class="card">
      <div class="materialTableHeader" >
        <div class="left">
          <ul class="header-buttons-left ms-0">
            <li class="tbl-title">
              <h2>Listado de Pedidos para Asignar</h2>
            </li>
          </ul>
        </div>
        <div class="right">
          <ul class="tbl-export-btn">
            <li class="tbl-header-btn">
              <div class="m-l-10" matTooltip="VOLVER">
                <button mat-mini-fab color="warn" (click)="volver()">
                  <mat-icon class="col-white">undo</mat-icon>
                </button>
              </div>
            </li>
            <li class="tbl-header-btn">
              <div class="m-l-10" matTooltip="GUARDAR">
                <button mat-mini-fab color="primary">
                  <mat-icon class="col-white">save</mat-icon>
                </button>
              </div>
            </li>
            <li>
              <div class="m-l-10" matTooltip="GUARDAR Y ENVIAR">
                <button mat-mini-fab color="primary">
                  <mat-icon class="col-white">mail</mat-icon>
                </button>
              </div>
            </li>
          </ul>
        </div>
      </div>



    </div>
    <div class="col-md-12">
      <table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8" matSort>
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox color="primary" (change)="$event ? toggleAllRows() : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()"
                          [aria-label]="checkboxLabel()">
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let order">
            <mat-checkbox color="primary" (click)="$event.stopPropagation()"
                          (change)="$event ? selection.toggle(order) : null"
                          [checked]="selection.isSelected(order)"
                          [aria-label]="checkboxLabel(order)"
                          value="{{order[columnsToDisplay[1]]}}">
            </mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="{{columnsToDisplay[1]}}" >
        <th mat-header-cell *matHeaderCellDef  mat-sort-header class="text-center"> Cupón </th>
        <td mat-cell *matCellDef="let order" class="text-center"> {{order[columnsToDisplay[1]]}} </td>
        </ng-container>
        <ng-container matColumnDef="{{columnsToDisplay[2]}}" >
        <th mat-header-cell *matHeaderCellDef  mat-sort-header class="text-center"> Nombre de Informe</th>
        <td mat-cell *matCellDef="let order" class="text-left">
          {{order[columnsToDisplay[2]]}}
         </td>
        </ng-container>

        <ng-container matColumnDef="{{columnsToDisplay[3]}}" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-center"> Tipo de Informe</th>
          <td mat-cell *matCellDef="let order" class="text-center">
             <div *ngIf="order[columnsToDisplay[3]] === 'OR'">
              <div class="badge badge-solid-orange" style="font-size: 16px;">{{order[columnsToDisplay[3]]}}</div>
            </div>
            <div *ngIf="order[columnsToDisplay[3]] === 'RV'">
              <div class="badge badge-solid-green" style="font-size: 16px;">{{order[columnsToDisplay[3]]}}</div>
            </div>
            </td>
        </ng-container>
        <ng-container matColumnDef="{{columnsToDisplay[4]}}" >
          <th mat-header-cell *matHeaderCellDef  mat-sort-header class="text-center"> Tipo de Tramite</th>
          <td mat-cell *matCellDef="let order" class="text-center">
             <div *ngIf="order[columnsToDisplay[4]] === 'T1'">
              <div class="badge badge-solid-blue">{{order[columnsToDisplay[4]]}}</div>
            </div>
            <div *ngIf="order[columnsToDisplay[4]] === 'T2'">
              <div class="badge badge-solid-purple">{{order[columnsToDisplay[4]]}}</div>
            </div>
            <div *ngIf="order[columnsToDisplay[4]] === 'T3'">
              <div class="badge badge-solid-cyan">{{order[columnsToDisplay[4]]}}</div>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="{{columnsToDisplay[5]}}" >
          <th mat-header-cell *matHeaderCellDef  mat-sort-header class="text-center"> Fecha de Ingreso </th>
          <td mat-cell *matCellDef="let order" class="text-center"> {{order[columnsToDisplay[5]]}} </td>
        </ng-container>
        <ng-container matColumnDef="{{columnsToDisplay[6]}}" >
          <th mat-header-cell *matHeaderCellDef  mat-sort-header class="text-center"> Fecha de Vencimiento </th>
          <td mat-cell *matCellDef="let order" class="text-center"> {{order[columnsToDisplay[6]]}} </td>
        </ng-container>
        <ng-container matColumnDef="{{columnsToDisplay[7]}}" >
          <th mat-header-cell *matHeaderCellDef  class="text-center"> Acciones </th>
          <td mat-cell *matCellDef="let order" class="text-center d-flex">
            <mat-form-field style="width: 12rem; margin: .5rem 1rem 0 0;">
              <mat-label>Destinatario</mat-label>
              <mat-select >
                <mat-option *ngFor="let item of lista" [value]="item.id">
                  {{item.id + " - " + item.valor}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-icon-button (click)="agregarAdjuntos(order[columnsToDisplay[1]])" #tooltip="matTooltip" matTooltip="Adjuntos">
              <mat-icon style="color: red;">attach_file</mat-icon>
            </button>
            <button mat-icon-button (click)="agregarAdjuntos(order[columnsToDisplay[1]])" #tooltip="matTooltip" matTooltip="Adjuntos">
              <mat-icon style="color: gray;">attach_file</mat-icon>

            </button>
            <button mat-icon-button *ngIf="order.comment !== ''" (click)="agregarComentario(order[columnsToDisplay[1]])" #tooltip="matTooltip" matTooltip="Comentario">
              <i class="fa-solid fa-circle-info" style="font-size: 24px; color: red;"></i>
            </button>
            <button mat-icon-button *ngIf="order.comment === ''" (click)="agregarComentario(order[columnsToDisplay[1]])" #tooltip="matTooltip" matTooltip="Comentario">
              <i class="fa-solid fa-circle-info" style="font-size: 24px; color: gray;"></i>
            </button>

          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let order; columns: columnsToDisplay;"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[ 20]" aria-label="Seleccionar página de Pedidos"></mat-paginator>
    </div>
  </div>


</section>
